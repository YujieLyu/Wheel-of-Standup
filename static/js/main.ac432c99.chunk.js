(this["webpackJsonpwheel-of-fortune"]=this["webpackJsonpwheel-of-fortune"]||[]).push([[0],{26:function(t,e,n){},27:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),i=n(20),o=n.n(i),c=(n(26),n(3)),l=n(5),r=n(6),d=n(8),u=n(7),h=(n(27),n(2)),p=n.n(h),f=(n(46),n(47),n(0)),j=function(t){var e=t.name,n=t.value,a=t.isOn,s=t.handleClick;return Object(f.jsx)("button",{className:n,value:n,disabled:a,onClick:s,children:e})},b=(n(49),function(t){var e=t.handleChange,n=t.value,a=t.label;return Object(f.jsxs)("div",{className:"group",children:[Object(f.jsx)("input",{className:"form-input",type:"text",onChange:e,value:n}),a?Object(f.jsx)("label",{className:"".concat(n.length?"shrink":""," form-input-label"),children:a}):null,Object(f.jsx)(j,{value:"origin",name:"Add"})]})}),m=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).handleSubmit=function(e){e.preventDefault();var n={name:t.state.name};t.props.addCan(n),console.log(t.props.allList),t.addElement(n),""!==t.state.name&&(p.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/new",n).then((function(t){console.log(t)})),t.setState({name:""}))},t.handleChange=function(e){t.setState({name:e.target.value})},t.addElement=function(e){var n=[].concat(Object(c.a)(t.props.pieList),[e]),a=[].concat(Object(c.a)(t.props.allList),[e]);e.id=a.length-1,t.setState({pieList:n,allList:a})},t.state={name:""},t}return Object(r.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"addElementForm",children:Object(f.jsx)("form",{onSubmit:this.handleSubmit,children:Object(f.jsx)(b,{handleChange:this.handleChange,value:this.state.name,label:"New candidate"})})})}}]),n}(a.Component),g=(n(50),function(t){var e=t.allList,n=t.pieList,a=t.handleChange,s=t.handleClick;return e.length>0?e.map((function(t){return Object(f.jsxs)("div",{className:"candidate-list",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"checkbox",checked:n.filter((function(e){return e.name===t.name})).length>0,onChange:function(){a(t)}}),Object(f.jsx)("label",{htmlFor:t.id,children:t.name})]}),Object(f.jsx)("div",{className:"delete",onClick:function(){return s(t,n.find((function(e){return e.name===t.name})))},children:"x"})]},t.id)})):Object(f.jsx)("div",{children:"Loading..."})}),v=n(21),L=(n(51),function(t){var e=t.title,n=t.content,s=Object(a.useState)(!1),i=Object(v.a)(s,2),o=i[0],c=i[1];return Object(f.jsxs)("div",{className:"toggle-tip",children:[Object(f.jsx)("div",{className:"tip-title",onClick:function(){c((function(t){return!t}))},children:e}),o&&Object(f.jsx)("div",{className:"tip-content",children:n?Object(f.jsx)("div",{children:n}):Object(f.jsxs)("div",{children:["The functions of the wheels have been improved, including:",Object(f.jsx)("br",{}),"1. Removing candidates ",Object(f.jsx)("br",{}),"2. Recording the last defined candidate list",Object(f.jsx)("br",{}),"However, the developer need a bit more time to perfect these features :D",Object(f.jsx)("br",{}),"Hope you have fun!"]})})]})}),O=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).handleChange=function(e){t.props.reSetElementList(e.name)},t.handleClick=function(e,n){t.props.deleteCan(e,n)},t.state={refresh:!1},t}return Object(r.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"LeftBox",children:[Object(f.jsxs)("div",{className:"title",children:[Object(f.jsxs)("h1",{children:[this.props.mode," Wheel"]}),Object(f.jsx)("p",{children:"(210824_beta)"})]}),Object(f.jsx)("p",{children:"No less than 3 options"}),Object(f.jsx)(g,{allList:this.props.allList,pieList:this.props.pieList,handleChange:this.handleChange,handleClick:this.handleClick}),Object(f.jsx)(m,{allList:this.props.allList,pieList:this.props.pieList,addCan:this.props.addCan}),Object(f.jsx)(L,{title:"add/delete tips",content:"Need to refresh the page before deleting the newly added candidates temporarily. The developer is struggling with the problem of refetching data after component update"})]})}}]),n}(a.Component),x=(n(52),n(53),function(t){var e=t.sliceAngle,n=t.index,a=t.skewValue,s=t.colorListEle,i=t.pieListEle;return Object(f.jsx)("li",{className:"slice",style:{transform:"rotate("+e*n+"deg) skewY("+a+"deg)",background:s.hex},children:Object(f.jsx)("div",{className:"slice-name",style:{transform:"skewY("+(180-a)+"deg) rotate("+e/2+"deg)"},children:i.name})})}),C=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).alertHost=function(e){var n=360-e%360,a=Math.floor(n*t.props.pieList.length/360),s=t.props.pieList[a].name,i={name:s};switch(console.log(t.props.mode),t.props.mode.toLowerCase()){case"standup":p.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/add-standup-host",i).then((function(t){console.log(t),console.log(t.data)})),setTimeout((function(){return t.props.deleted.forEach((function(t){return p.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-standup/".concat(t.id))}))}),6e3);break;case"retro":p.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/add-retro-host",i).then((function(t){console.log(t),console.log(t.data)}));break;case"plan":p.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/add-plan-host",i).then((function(t){console.log(t),console.log(t.data)}));break;default:console.log("failed to catch mode after alert host")}alert("Congrats, ".concat(s," ! You will run the next stand-up"))},t.handleClick=function(){var e=Math.floor(-59180*Math.random())+60204;t.setState({degree:e}),setTimeout((function(){return t.alertHost(e)}),5500),t.props.added.forEach((function(t){return p.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/newStandupCan",t)}))},t.state={degree:null},t}return Object(r.a)(n,[{key:"createPie",value:function(){var t,e,n=Object(c.a)(this.props.pieList),a=Object(c.a)(this.props.colorsList);return t=360/n.length,e=t+90,n.length>0&&a.length>0?n.map((function(n,s){return Object(f.jsx)(x,{sliceAngle:t,index:s,skewValue:e,pieListEle:n,colorListEle:a[s]},s)})):Object(f.jsx)("div",{children:"Loading..."})}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"MidBox",children:[Object(f.jsx)("ul",{className:"pie",id:"pie",style:{transform:"rotate("+this.state.degree+"deg)"},children:this.createPie()}),Object(f.jsx)("button",{className:"spin",onClick:this.handleClick,children:"GO"}),Object(f.jsx)(j,{value:"shuffleBtn",name:"Shuffle the wheel",handleClick:this.props.shuffleWheel})]})}}]),n}(a.Component),k=(n(54),function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).handleClick=function(e){switch(console.log(e.target.value),t.props.determinePieList(e.target.value),e.target.value){case"standup":t.setState({standupBtn:!0,retroBtn:!1,sprintPlanBtn:!1});break;case"retro":t.setState({standupBtn:!1,retroBtn:!0,sprintPlanBtn:!1});break;case"sprint-planning":t.setState({standupBtn:!1,retroBtn:!1,sprintPlanBtn:!0});break;case"tips":t.setState({tip:!0});break;default:console.log("cannot get the mode for button")}},t.state={standupBtn:!0,retroBtn:!1,sprintPlanBtn:!1,tip:!1},t}return Object(r.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"RightBox",children:[Object(f.jsxs)("div",{className:"btnGroup",children:[Object(f.jsx)(j,{value:"standup",isOn:this.state.standupBtn,handleClick:this.handleClick,name:"Standup"}),Object(f.jsx)(j,{value:"retro",isOn:this.state.retroBtn,handleClick:this.handleClick,name:"Retro"}),Object(f.jsx)(j,{value:"sprint-planning",isOn:this.state.sprintPlanBtn,handleClick:this.handleClick,name:"Sprint Planning"})]}),Object(f.jsx)("div",{className:"tip-container",children:Object(f.jsx)(L,{title:"Click to check the update"})})]})}}]),n}(a.Component)),S=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).getAllList=function(){p.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/all").then((function(e){var n=e.data;t.setState({allList:n})}))},t.getColorList=function(){p.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/colors").then((function(e){var n=e.data;t.setState({colorsList:n})}))},t.getStandupList=function(){p.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/standup").then((function(e){var n=e.data;t.setState({standupList:n,pieList:n})}))},t.getRetroList=function(){p.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/retro").then((function(e){var n=e.data;t.setState({retroList:n})}))},t.determinePieList=function(e){switch(t.setState({mode:e}),e){case"standup":t.setState({pieList:Object(c.a)(t.state.standupList),removed:[],added:[]});break;case"retro":t.setState({pieList:Object(c.a)(t.state.retroList),removed:[],added:[]});break;case"sprint-planning":t.setState({pieList:Object(c.a)(t.state.spriintPlanList),removed:[],added:[]});break;default:console.log("cannot get mode for determine")}},t.reSetElementList=function(e,n){var a,s=Object(c.a)(t.state.pieList),i=s.find((function(t){return t.name===e}));if(i)s.length>=4?(a=s.filter((function(t){return t.name!==e})),t.state.deleted.push(i)):a=s;else{var o=t.state.allList.find((function(t){return t.name===e}));t.state.added.push(o),o.mode=n,a=[].concat(Object(c.a)(s),[o])}t.setState({pieList:a})},t.deleteCan=function(e,n){if(e){var a=t.state.allList.filter((function(t){return t.id!==e.id}));t.setState({allList:a}),p.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-all/".concat(e.id))}if(n){var s=t.state.pieList.filter((function(t){return t.id!==n.id}));t.setState({pieList:s}),p.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-standup/".concat(n.id))}},t.addCan=function(e){var n=[].concat(Object(c.a)(t.state.allList),[e]);t.setState({allList:n})},t.shuffleWheel=function(){var e=Object(c.a)(t.state.pieList);t.setState({pieList:e.sort((function(){return Math.random()-.5}))})},t.state={mode:"Standup",allList:[],pieList:[],deleted:[],added:[],standupList:[],retroList:[],spriintPlanList:[],colorsList:[]},t}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(t){t.pieList===this.props.pieList&&t.allList===this.props.allList||(this.getAllList(),this.getColorList(),this.getStandupList(),this.getRetroList(),this.getSpriintPlanList())}},{key:"getSpriintPlanList",value:function(){var t=this;p.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sprint-plan").then((function(e){var n=e.data;t.setState({spriintPlanList:n})}))}},{key:"componentDidMount",value:function(){this.getAllList(),this.getColorList(),this.getStandupList(),this.getRetroList(),this.getSpriintPlanList()}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(O,{mode:this.state.mode,allList:this.state.allList,pieList:this.state.pieList,reSetElementList:this.reSetElementList,deleteCan:this.deleteCan,addCan:this.addCan}),Object(f.jsx)(C,{pieList:this.state.pieList,colorsList:this.state.colorsList,added:this.state.added,deleted:this.state.deleted,resetCan:this.resetCan,mode:this.state.mode,shuffleWheel:this.shuffleWheel}),Object(f.jsx)(k,{determinePieList:this.determinePieList})]})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.ac432c99.chunk.js.map