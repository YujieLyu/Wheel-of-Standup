(this["webpackJsonpwheel-of-fortune"]=this["webpackJsonpwheel-of-fortune"]||[]).push([[0],{21:function(e,t,n){e.exports=n(53)},26:function(e,t,n){},27:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(19),r=n.n(s),l=(n(26),n(2)),o=n(4),c=n(5),u=n(7),d=n(6),p=(n(27),n(1)),h=n.n(p),f=(n(45),n(46),function(e){var t=e.name,n=e.value,a=e.isOn,s=e.handleClick;return i.a.createElement("button",{className:n,value:n,disabled:a,onClick:s},t)}),m=(n(47),function(e){var t=e.handleChange,n=e.value,a=e.label;return i.a.createElement("div",{className:"group"},i.a.createElement("input",{className:"form-input",type:"text",onChange:t,value:n}),a?i.a.createElement("label",{className:"".concat(n.length?"shrink":""," form-input-label")},a):null,i.a.createElement(f,{value:"origin",name:"Add"}))}),L=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var n={name:e.state.name};e.props.addCan(n),e.addElement(n),""!==e.state.name&&(h.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/new",n).then((function(e){console.log(e)})),e.setState({name:""}))},e.handleChange=function(t){e.setState({name:t.target.value})},e.addElement=function(t){var n=[].concat(Object(l.a)(e.props.pieList),[t]),a=[].concat(Object(l.a)(e.props.allList),[t]);t.id=a.length-1,e.setState({pieList:n,allList:a})},e.state={name:""},e}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"addElementForm"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(m,{handleChange:this.handleChange,value:this.state.name,label:"New candidate"})))}}]),n}(a.Component),g=(n(48),function(e){var t=e.allList,n=e.pieList,a=e.handleChange,s=e.handleClick;return t.length>0?t.map((function(e){return i.a.createElement("div",{key:e.id,className:"candidate-list"},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",checked:n.filter((function(t){return t.name===e.name})).length>0,onChange:function(){a(e)}}),i.a.createElement("label",{htmlFor:e.id},e.name)),i.a.createElement("div",{className:"delete",onClick:function(){return s(e,n.find((function(t){return t.name===e.name})))}},"x"))})):i.a.createElement("div",null,"Loading...")}),v=n(20),b=(n(49),function(e){var t=e.title,n=e.content,s=Object(a.useState)(!1),r=Object(v.a)(s,2),l=r[0],o=r[1];return i.a.createElement("div",{className:"toggle-tip"},i.a.createElement("div",{className:"tip-title",onClick:function(){o((function(e){return!e}))}},t),l&&i.a.createElement("div",{className:"tip-content"},n?i.a.createElement("div",null,n):i.a.createElement("div",null,"The functions of the wheels have been improved, including:",i.a.createElement("br",null),"1. Removing candidates ",i.a.createElement("br",null),"2. Recording the last defined candidate list",i.a.createElement("br",null),"However, the developer need a bit more time to perfect these features :D",i.a.createElement("br",null),"Hope you have fun!")))}),E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleChange=function(t){e.props.reSetElementList(t.name)},e.handleClick=function(t,n){e.props.deleteCan(t,n)},e.state={refresh:!1},e}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"LeftBox"},i.a.createElement("div",{className:"title"},i.a.createElement("h1",null,this.props.mode," Wheel"),i.a.createElement("p",null,"(Ver 4.0.1.dev1.200924_alpha)")),i.a.createElement("p",null,"No less than 3 options"),i.a.createElement(g,{allList:this.props.allList,pieList:this.props.pieList,handleChange:this.handleChange,handleClick:this.handleClick}),i.a.createElement(L,{allList:this.props.allList,pieList:this.props.pieList,addCan:this.props.addCan}),i.a.createElement(b,{title:"add/delete tips",content:"Need to refresh the page before deleting the newly added candidates temporarily. The developer is struggling with the problem of refetching data after component update"}))}}]),n}(a.Component),k=(n(50),n(51),function(e){var t=e.sliceAngle,n=e.index,a=e.skewValue,s=e.colorListEle,r=e.pieListEle;return i.a.createElement("li",{className:"slice",style:{transform:"rotate("+t*n+"deg) skewY("+a+"deg)",background:s.hex}},i.a.createElement("div",{className:"slice-name",style:{transform:"skewY("+(180-a)+"deg) rotate("+t/2+"deg)"}},r.name))}),C=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).alertHost=function(t){var n=360-t%360,a=Math.floor(n*e.props.pieList.length/360),i=e.props.pieList[a].name;console.log(e.props.mode),alert("Congrats, ".concat(i," ! You will run the next stand-up"))},e.handleClick=function(){var t=Math.floor(-59180*Math.random())+60204;switch(e.setState({degree:t}),setTimeout((function(){return e.alertHost(t)}),5500),e.props.mode.toLowerCase()){case"standup":e.props.added.forEach((function(e){return h.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/newStandupCan",e)})),setTimeout((function(){return e.props.deleted.forEach((function(e){return h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-standup/".concat(e.id))}))}),1e4);break;case"retro":e.props.added.forEach((function(e){return h.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/newRetroCan",e)})),setTimeout((function(){return e.props.deleted.forEach((function(e){return h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-retro/".concat(e.id))}))}),1e4);break;case"sprint-planning":e.props.added.forEach((function(e){return h.a.post("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/newSprintplanCan",e)})),setTimeout((function(){return e.props.deleted.forEach((function(e){return h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-sprintplan/".concat(e.id))}))}),1e4);break;default:console.log("can't find a mode for adding new candidate")}},e.state={degree:null},e}return Object(c.a)(n,[{key:"createPie",value:function(){var e,t,n=Object(l.a)(this.props.pieList),a=Object(l.a)(this.props.colorsList);return e=360/n.length,t=e+90,n.length>0&&a.length>0?n.map((function(n,s){return i.a.createElement(k,{key:s,sliceAngle:e,index:s,skewValue:t,pieListEle:n,colorListEle:a[s]})})):i.a.createElement("div",null,"Loading...")}},{key:"render",value:function(){return i.a.createElement("div",{className:"MidBox"},i.a.createElement("ul",{className:"pie",id:"pie",style:{transform:"rotate("+this.state.degree+"deg)"}},this.createPie()),i.a.createElement("button",{className:"spin",onClick:this.handleClick},"GO"),i.a.createElement(f,{value:"shuffleBtn",name:"Shuffle the wheel",handleClick:this.props.shuffleWheel}))}}]),n}(a.Component),w=(n(52),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleClick=function(t){switch(console.log(t.target.value),e.props.determinePieList(t.target.value),t.target.value){case"standup":e.setState({standupBtn:!0,retroBtn:!1,sprintPlanBtn:!1});break;case"retro":e.setState({standupBtn:!1,retroBtn:!0,sprintPlanBtn:!1});break;case"sprint-planning":e.setState({standupBtn:!1,retroBtn:!1,sprintPlanBtn:!0});break;case"tips":e.setState({tip:!0});break;default:console.log("cannot get the mode for button")}},e.state={standupBtn:!0,retroBtn:!1,sprintPlanBtn:!1,tip:!1},e}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"RightBox"},i.a.createElement("div",{className:"btnGroup"},i.a.createElement(f,{value:"standup",isOn:this.state.standupBtn,handleClick:this.handleClick,name:"Standup"}),i.a.createElement(f,{value:"retro",isOn:this.state.retroBtn,handleClick:this.handleClick,name:"Retro"}),i.a.createElement(f,{value:"sprint-planning",isOn:this.state.sprintPlanBtn,handleClick:this.handleClick,name:"Sprint Planning"})),i.a.createElement("div",{className:"tip-container"},i.a.createElement(b,{title:"Click to check the update"})))}}]),n}(a.Component)),S=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).getAllList=function(){h.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/all").then((function(t){var n=t.data;e.setState({allList:n})}))},e.getColorList=function(){h.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/colors").then((function(t){var n=t.data;e.setState({colorsList:n})}))},e.getStandupList=function(){h.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/standup").then((function(t){var n=t.data;e.setState({standupList:n,pieList:n})}))},e.getRetroList=function(){h.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/retro").then((function(t){var n=t.data;e.setState({retroList:n})}))},e.determinePieList=function(t){switch(e.setState({mode:t}),t){case"standup":e.setState({pieList:Object(l.a)(e.state.standupList),removed:[],added:[]});break;case"retro":e.setState({pieList:Object(l.a)(e.state.retroList),removed:[],added:[]});break;case"sprint-planning":e.setState({pieList:Object(l.a)(e.state.sprintPlanList),removed:[],added:[]});break;default:console.log("cannot get mode for determine")}},e.reSetElementList=function(t,n){var a,i=Object(l.a)(e.state.pieList),s=i.find((function(e){return e.name===t}));if(s)i.length>=4?(a=i.filter((function(e){return e.name!==t})),e.state.deleted.push(s)):a=i;else{var r=e.state.allList.find((function(e){return e.name===t}));e.state.added.push(r),r.mode=n,a=[].concat(Object(l.a)(i),[r])}e.setState({pieList:a})},e.deleteCan=function(t,n){if(console.log("here is the ele in pie",n),t){var a=e.state.allList.filter((function(e){return e.id!==t.id}));e.setState({allList:a}),h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-all/".concat(t.id))}if(n){var i,s,r,l=e.state.pieList.filter((function(e){return e.id!==n.id}));switch(e.setState({pieList:l}),n.mode){case"standup":i=n.id,s=e.state.retroList.filter((function(e){return e.name===n.name})).id,r=e.state.sprintPlanList.filter((function(e){return e.name===n.name})).id;break;case"retro":i=e.state.standupList.filter((function(e){return e.name===n.name})).id,s=n.id,r=e.state.sprintPlanList.filter((function(e){return e.name===n.name})).id;break;case"plan":i=e.state.standupList.filter((function(e){return e.name===n.name})).id,s=e.state.retroList.filter((function(e){return e.name===n.name})).id,r=n.id;break;default:console.log("didn't find the mode to remove this element from display list")}console.log(i,s,r),h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-standup/".concat(i)),h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-retro/".concat(s)),h.a.delete("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sirius-sprintplan/".concat(r))}},e.addCan=function(t){var n=[].concat(Object(l.a)(e.state.allList),[t]);e.setState({allList:n})},e.shuffleWheel=function(){var t=Object(l.a)(e.state.pieList);e.setState({pieList:t.sort((function(){return Math.random()-.5}))})},e.state={mode:"Standup",allList:[],pieList:[],deleted:[],added:[],standupList:[],retroList:[],sprintPlanList:[],colorsList:[]},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){e.pieList===this.props.pieList&&e.allList===this.props.allList||(this.getAllList(),this.getColorList(),this.getStandupList(),this.getRetroList(),this.getSprintPlanList())}},{key:"getSprintPlanList",value:function(){var e=this;h.a.get("https://us-central1-wheel-of-fortune-b4c69.cloudfunctions.net/api/sprint-plan").then((function(t){var n=t.data;e.setState({sprintPlanList:n})}))}},{key:"componentDidMount",value:function(){this.getAllList(),this.getColorList(),this.getStandupList(),this.getRetroList(),this.getSprintPlanList()}},{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(E,{mode:this.state.mode,allList:this.state.allList,pieList:this.state.pieList,reSetElementList:this.reSetElementList,deleteCan:this.deleteCan,addCan:this.addCan}),i.a.createElement(C,{pieList:this.state.pieList,colorsList:this.state.colorsList,added:this.state.added,deleted:this.state.deleted,resetCan:this.resetCan,mode:this.state.mode,shuffleWheel:this.shuffleWheel}),i.a.createElement(w,{determinePieList:this.determinePieList}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.a12492c0.chunk.js.map